<Window x:Class="WPFAPP.SpeakingPractice"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SpeakingPractice" Width="370" Height="760" WindowStartupLocation="CenterScreen" Background="#222">
    <Window.Resources>
        <!-- Rounded button style -->
        <Style x:Key="RoundedButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="#16A34A"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,4"/>
            <Setter Property="FontFamily" Value="Inter"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="16"
                                SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" RecognizesAccessKey="True"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.95"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.85"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Border Margin="12" CornerRadius="8" BorderBrush="#CED4DA" BorderThickness="2" Background="Transparent">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="84" />
                </Grid.RowDefinitions>

                <!-- Main content -->
                <Grid Grid.Row="0" Background="#241F6B">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="0,0,0,-84">
                        <StackPanel Margin="0,18,0,18" Width="318" Height="501">
                            <Grid>
                                <Border Background="#F8E4CC" CornerRadius="20" Padding="20" Margin="12,0,12,0">
                                    <StackPanel>

                                        <!-- Header -->
                                        <StackPanel Orientation="Horizontal" Margin="4,0,0,10" VerticalAlignment="Top">
                                            <Border Background="#241F6B" CornerRadius="8" Width="36" Height="36" VerticalAlignment="Center">
                                                <Viewbox Width="20" Height="20" Margin="8">
                                                    <Path Data="M24 13.5C21.9297 13.5 20.25 15.1797 20.25 17.25V23.5C20.25 25.5703 21.9297 27.25 24 27.25C26.0703 27.25 27.75 25.5703 27.75 23.5V17.25C27.75 15.1797 26.0703 13.5 24 13.5ZM19 21.9375C19 21.418 18.582 21 18.0625 21C17.543 21 17.125 21.418 17.125 21.9375V23.5C17.125 26.9805 19.7109 29.8555 23.0625 30.3125V31.625H21.1875C20.668 31.625 20.25 32.043 20.25 32.5625C20.25 33.082 20.668 33.5 21.1875 33.5H24H26.8125C27.332 33.5 27.75 33.082 27.75 32.5625C27.75 32.043 27.332 31.625 26.8125 31.625H24.9375V30.3125C28.2891 29.8555 30.875 26.9805 30.875 23.5V21.9375C30.875 21.418 30.457 21 29.9375 21C29.418 21 29 21.418 29 21.9375V23.5C29 26.2617 26.7617 28.5 24 28.5C21.2383 28.5 19 26.2617 19 23.5V21.9375Z"
                                                        Fill="#EFBF7F" Height="40" Stretch="Fill" Width="30"/>
                                                </Viewbox>
                                            </Border>
                                            <TextBlock Text="Speaking With AI" FontWeight="Bold" FontSize="18" Foreground="#241F6B" Margin="12,0,0,0" VerticalAlignment="Center"/>
                                        </StackPanel>

                                        <!-- Topic card -->
                                        <Border Background="White" CornerRadius="12" BorderBrush="#E5E7EB" BorderThickness="1" Margin="0,8,0,0" Height="110">
                                            <Grid>
                                                <TextBlock Text="Speaking Topic" FontWeight="Bold" FontSize="15" Foreground="#241F6B" Margin="16,12,100,0" VerticalAlignment="Top"/>
                                                <Button x:Name="btnGenerate"
                                                    Content="Generate"
                                                    Width="80" Height="32"
                                                    HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,8,12,0"
                                                    Background="#241F6B" Foreground="White"
                                                    FontWeight="SemiBold" FontSize="13"
                                                    BorderThickness="0"
                                                    Style="{StaticResource RoundedButtonStyle}"
                                                    Click="btnGenerate_Click"/>

                                                <!-- Placeholder visible until Generate clicked -->
                                                <TextBlock x:Name="txtTopicPlaceholder"
                                                    Text="Click &quot;Generate&quot; to get an AI-generated speaking topic"
                                                    FontSize="12" Foreground="#241F6B" Margin="16,54,16,8" TextWrapping="Wrap"/>

                                                <!-- Topic text, hidden until generated -->
                                                <TextBlock x:Name="txtTopic"
                                                    Text=""
                                                    FontSize="12" Foreground="#241F6B" Margin="16,54,16,8" TextWrapping="Wrap"
                                                    Visibility="Collapsed"/>
                                            </Grid>
                                        </Border>

                                        <!-- Spacer -->
                                        <Rectangle Height="12" Fill="Transparent"/>

                                        <!-- Microphone + status -->
                                        <StackPanel Margin="0,8,0,0" HorizontalAlignment="Center" Height="168">
                                            <Grid Height="57">
                                                <Button x:Name="btnRecord" Background="#FF4F4F" BorderThickness="0" Style="{StaticResource RoundedButtonStyle}" Margin="69,49,69,-49">
                                                    <Viewbox Width="28" Height="28" RenderTransformOrigin="0.679,0.5">
                                                        <Path Data="M24 13.5C21.9297 13.5 20.25 15.1797 20.25 17.25V23.5C20.25 25.5703 21.9297 27.25 24 27.25C26.0703 27.25 27.75 25.5703 27.75 23.5V17.25C27.75 15.1797 26.0703 13.5 24 13.5ZM19 21.9375C19 21.418 18.582 21 18.0625 21C17.543 21 17.125 21.418 17.125 21.9375V23.5C17.125 26.9805 19.7109 29.8555 23.0625 30.3125V31.625H21.1875C20.668 31.625 20.25 32.043 20.25 32.5625C20.25 33.082 20.668 33.5 21.1875 33.5H24H26.8125C27.332 33.5 27.75 33.082 27.75 32.5625C27.75 32.043 27.332 31.625 26.8125 31.625H24.9375V30.3125C28.2891 29.8555 30.875 26.9805 30.875 23.5V21.9375C30.875 21.418 30.457 21 29.9375 21C29.418 21 29 21.418 29 21.9375V23.5C29 26.2617 26.7617 28.5 24 28.5C21.2383 28.5 19 26.2617 19 23.5V21.9375Z"
                                                            Fill="#EFBF7F" Height="40" Stretch="Fill" Width="30"/>
                                                    </Viewbox>
                                                </Button>
                                            </Grid>
                                            <Grid Width="194">

                                                <TextBlock x:Name="txtRecordStatus"
                                                    FontSize="12" Foreground="#241F6B" Margin="0,69,0,-57" HorizontalAlignment="Center"><Run Text="Click the Button To Start Recording   "/><LineBreak/><Run Text="        or Upload your Audio File"/></TextBlock>
                                                <Canvas RenderTransformOrigin="0.5,0.5" Margin="166,83,10,-56">
                                                    <Canvas.RenderTransform>
                                                        <TransformGroup>
                                                            <ScaleTransform/>
                                                            <SkewTransform/>
                                                            <RotateTransform Angle="-179.51"/>
                                                            <TranslateTransform/>
                                                        </TransformGroup>
                                                    </Canvas.RenderTransform>
                                                    <Path Data="M9 2V12" Stroke="#241F6B" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round"/>
                                                    <Path Data="M9 12L5 8" Stroke="#241F6B" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round"/>
                                                    <Path Data="M9 12L13 8" Stroke="#241F6B" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round"/>
                                                    <Path
                                                Width="15" Canvas.Top="-1.432" StrokeEndLineCap="Round" StrokeThickness="2" Stretch="Fill" StrokeStartLineCap="Round" Stroke="#241F6B" RenderTransformOrigin="0.5,0.5" Canvas.Left="1.486" Data="M3 16H15" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Path.RenderTransform
                                                >
                                                            <TransformGroup
                                                >
                                                                <ScaleTransform
                                                />
                                                                <SkewTransform
                                                />
                                                                <RotateTransform
                                                Angle="-180.31"/>
                                                                <TranslateTransform
                                                />
                                                            </TransformGroup>
                                                        </Path.RenderTransform>
                                                    </Path>
                                                    <Path Data="M3 16H15" Stroke="#241F6B" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Canvas.Left="-0.014" Canvas.Top="-1.482" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Left" Stretch="Fill" VerticalAlignment="Top" Width="18">
                                                        <Path.RenderTransform>
                                                            <TransformGroup>
                                                                <ScaleTransform/>
                                                                <SkewTransform/>
                                                                <RotateTransform Angle="-180.31"/>
                                                                <TranslateTransform/>
                                                            </TransformGroup>
                                                        </Path.RenderTransform>
                                                    </Path>
                                                </Canvas>
                                            </Grid>

                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,4,0,0">
                                                <TextBlock x:Name="txtUploadStatus" Text="" FontSize="12" Foreground="#241F6B" VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </StackPanel>

                                    </StackPanel>
                                </Border>

                            </Grid>

                        </StackPanel>
                    </ScrollViewer>

                    <!-- Submit pinned below scroll content -->
                    <Button x:Name="btnSubmit"
                            Content="SUBMIT"
                            Width="260"
                            Height="44"
                            HorizontalAlignment="Center"
                            Margin="0,537,0,0"
                            VerticalAlignment="Top"
                            Background="#16A34A"
                            Foreground="White"
                            FontWeight="SemiBold"
                            FontSize="18"
                            Style="{StaticResource RoundedButtonStyle}"/>
                </Grid>

                <!-- Bottom Navigation Bar -->
                <Grid Grid.Row="1" Background="#12103D">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE80F;" FontSize="20" Foreground="#F20231" HorizontalAlignment="Center"/>
                        <TextBlock Text="Home" FontFamily="Inter" FontSize="12" Foreground="#F20231" Margin="0,6,0,0" HorizontalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE76D;" FontSize="18" Foreground="#EFBF7F" HorizontalAlignment="Center" Opacity="0.85"/>
                        <TextBlock Text="Profile" FontFamily="Inter" FontSize="12" Foreground="#EFBF7F" Margin="0,6,0,0" HorizontalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE713;" FontSize="20" Foreground="#EFBF7F" HorizontalAlignment="Center"/>
                        <TextBlock Text="Setting" FontFamily="Inter" FontSize="12" Foreground="#EFBF7F" Margin="0,6,0,0" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>